"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[310],{6310:function(t,s,e){e.r(s),e.d(s,{default:function(){return I}});var r=e(5671),n=e(3144),a=e(136),i=e(5716),u=e(2791),o=e(184),p=(u.Component,e(885));var d=function(t){var s=(0,u.useState)(!1),e=(0,p.Z)(s,2),r=e[0],n=e[1],a=(0,u.useState)(t.status),i=(0,p.Z)(a,2),d=i[0],l=i[1];(0,u.useEffect)((function(){l(t.status)}),[t.status]);var c=function(){n(!0)};return(0,o.jsx)("div",{className:"status-wrapper",children:r?(0,o.jsx)("div",{className:"status-input",children:(0,o.jsx)("input",{onChange:function(t){l(t.currentTarget.value)},autoFocus:!0,onBlur:function(){n(!1),t.updateStatus(d)},value:d})}):(0,o.jsxs)("div",{className:"status",children:[(0,o.jsx)("span",{onDoubleClick:c,children:t.status||"No status"}),(0,o.jsx)("button",{onClick:c,children:"Change"})]})})};var l=function(t){return(0,o.jsx)("div",{children:(0,o.jsxs)("div",{children:[(0,o.jsx)("img",{className:"photo",src:t.profile.photos.large,alt:"#"}),(0,o.jsx)(d,{status:t.status,updateStatus:t.updateStatus}),(0,o.jsx)("div",{className:"profile-description",children:"\u041a\u0430\u043a\u043e\u0435 \u0442\u043e \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"})]})})},c=e(8687),f=e(6508),h=e(6139),v=e(704),j=e(1557),x=e(6130);var m=function(t){return(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"post",children:t.message}),(0,o.jsxs)("div",{className:"likes",children:["Likes ",t.likes]})]})};var P=(0,j.B)(10),Z=function(t){(0,a.Z)(e,t);var s=(0,i.Z)(e);function e(){return(0,r.Z)(this,e),s.apply(this,arguments)}return(0,n.Z)(e,[{key:"render",value:function(){return(0,o.jsxs)("form",{onSubmit:this.props.handleSubmit,children:[(0,o.jsx)(h.Z,{validate:[j.l,P],placeholder:"Enter!",component:x.N,formType:"textarea",type:"text",name:"post"}),(0,o.jsx)("button",{children:"Add post"})]})}}]),e}(u.Component),k=(0,v.Z)({form:"addPost"})(Z),S=function(t){var s=t.posts.map((function(t){return(0,o.jsx)(m,{message:t.message,likes:t.likes})}));return(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"posts",children:["My posts",(0,o.jsx)(k,{onSubmit:function(s){t.addPost(s.post)}})]}),s]})},N=function(t){(0,a.Z)(e,t);var s=(0,i.Z)(e);function e(){return(0,r.Z)(this,e),s.apply(this,arguments)}return(0,n.Z)(e,[{key:"render",value:function(){return(0,o.jsx)("div",{children:(0,o.jsx)(S,{posts:this.props.posts,addPost:this.props.addPost})})}}]),e}(u.Component),g=(0,c.$j)((function(t){return{posts:t.dataProfile.dataPosts}}),(function(t){return{addPost:function(s){t((0,f.Ai)(s))}}}))(N),C=e(693);var y=function(t){return t.dataProfile.profile?(0,o.jsxs)("div",{className:"App__profile",children:[(0,o.jsx)(l,{profile:t.dataProfile.profile,status:t.status,updateStatus:t.updateStatus}),(0,o.jsx)(g,{dataProfile:t.dataProfile})]}):(0,o.jsx)(C.Z,{})},A=(e(2666),e(5628)),b=e(7781),U=e(6871),_=function(t){(0,a.Z)(e,t);var s=(0,i.Z)(e);function e(){return(0,r.Z)(this,e),s.apply(this,arguments)}return(0,n.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.router.params.profileId;t||(t=this.props.authorizedUserId),this.props.setUserProfile(t),this.props.setUserStatus(t)}},{key:"render",value:function(){return null===this.props.authorizedUserId?(0,o.jsx)(U.Fg,{to:"/login"}):(0,o.jsx)("div",{className:"App__profile",children:(0,o.jsx)(y,{dataProfile:this.props.dataProfile,isAuth:this.props.isAuth,status:this.props.status,updateStatus:this.props.updateStatus})})}}]),e}(u.Component),I=(0,b.qC)((0,c.$j)((function(t){return{dataProfile:t.dataProfile,status:t.dataProfile.status,authorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),(function(t){return{setUserProfile:function(s){t((0,f.nA)(s))},setUserStatus:function(s){t((0,f.gY)(s))},updateStatus:function(s){t((0,f.NN)(s))}}})),A.E)(_)}}]);
//# sourceMappingURL=310.12b4acac.chunk.js.map