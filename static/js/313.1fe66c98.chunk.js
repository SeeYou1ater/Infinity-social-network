"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[313],{6720:function(s,t,e){e.r(t),e.d(t,{default:function(){return T}});var a=e(5671),i=e(3144),r=e(136),o=e(5716),n=e(2791),p=e(1009),l=e(3504),c=e(885),u=e.p+"static/media/changeStatus.333680197a4515933ca4.png",d=e(184);var f=function(s){var t=(0,n.useState)(!1),e=(0,c.Z)(t,2),a=e[0],i=e[1],r=(0,n.useState)(s.status),o=(0,c.Z)(r,2),p=o[0],l=o[1];(0,n.useEffect)((function(){l(s.status)}),[s.status]);var f=function(){i(!0)};return(0,d.jsx)("div",{className:"App__status-wrapper",children:a?(0,d.jsx)("div",{className:"App__status-input-block",children:(0,d.jsx)("input",{className:"App__status-input",onChange:function(s){l(s.currentTarget.value)},autoFocus:!0,onBlur:function(){i(!1),s.updateStatus(p)},value:p})}):(0,d.jsxs)("div",{className:"App__profileStatus",children:[s.isOwner?(0,d.jsx)("span",{onDoubleClick:f,children:s.status||"No status"}):(0,d.jsx)("span",{children:s.status||"No status"}),s.isOwner&&(0,d.jsx)("button",{className:"App__profileStatus-changeButton",onClick:f,children:(0,d.jsx)("img",{src:u})})]})})};var h=function(s){return(0,d.jsxs)("div",{className:"App__contacts-list-item",children:[(0,d.jsxs)("p",{className:"App__contacts-item",children:[s.contactTitle,":"]}),(0,d.jsx)("p",{className:"App__contacts-value",children:s.contactValue})]})};var m=function(s){return(0,d.jsxs)("div",{className:"App__description-aboutMeform",children:[(0,d.jsx)("h3",{className:"App__profile-fullName",children:s.profile.fullName}),(0,d.jsx)(f,{isOwner:s.isOwner,status:s.status,updateStatus:s.updateStatus}),(0,d.jsx)("div",{className:"App__description-aboutMe-list",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"App__profile-contacts-title",children:(0,d.jsx)("b",{children:"Contacts"})}),s.isOwner&&(0,d.jsx)(l.OL,{to:"/profile=settings",children:(0,d.jsx)("p",{className:"App__description-editProfile",children:"Edit profile"})}),(0,d.jsx)("div",{className:"App__contacts-list",children:Object.keys(s.profile.contacts).map((function(t){return(0,d.jsx)(h,{contactTitle:t,contactValue:s.profile.contacts[t]},t)}))})]})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"App__description-aboutMeform-item",children:(0,d.jsx)("b",{children:"Looking for a job"})}),(0,d.jsx)("p",{className:"App__description-aboutMeform-valueItem",children:s.profile.lookingForAJob?"Yes":"No"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"App__description-aboutMeform-item",children:(0,d.jsx)("b",{children:"My proffesional skills"})}),(0,d.jsx)("p",{className:"App__description-aboutMeform-valueItem",children:s.profile.lookingForAJobDescription})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"App__description-aboutMeform-item",children:(0,d.jsx)("b",{children:"About me"})}),(0,d.jsx)("p",{className:"App__description-aboutMeform-valueItem",children:s.profile.aboutMe})]})]})},_=e.p+"static/media/uploadPhoto.c088ceeb1cf73d5e6070.png";var j=function(s){return(0,d.jsxs)("div",{className:"App__profile-info",children:[(0,d.jsx)("div",{className:"App__profile-first-block",children:(0,d.jsxs)("div",{className:"App__profile-photo-block",children:[(0,d.jsx)("img",{className:"App__profile-photo",src:s.profile.photos.large||p,alt:"#"}),(0,d.jsx)("input",{id:"input-changePhoto",className:"input-changePhoto",type:"file",onChange:function(t){t.target.files.length&&s.savePhoto(t.target.files[0])}}),s.isOwner&&(0,d.jsx)("label",{htmlFor:"input-changePhoto",children:(0,d.jsx)("img",{className:"App__profile-photo-change",src:_,alt:""})})]})}),(0,d.jsx)(m,{isOwner:s.isOwner,profile:s.profile,status:s.status,updateStatus:s.updateStatus})]})},x=e(8687),v=e(6508),N=e(6139),A=e(704),P=e(1557),b=e(6130),g=e.p+"static/media/heartNotLike.2b2f2b1f413672a8aa7a.png";var k=function(s){return(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"App__profile-postItem",children:s.message}),(0,d.jsxs)("div",{className:"App__profile-likesItem",children:[(0,d.jsx)("img",{src:g,alt:""}),s.likes]})]})},S=e.p+"static/media/addPost.d5a7c7533c230922fcba.png";var w=(0,P.B)(10),O=function(s){(0,r.Z)(e,s);var t=(0,o.Z)(e);function e(){return(0,a.Z)(this,e),t.apply(this,arguments)}return(0,i.Z)(e,[{key:"render",value:function(){return(0,d.jsxs)("form",{className:"App__posts-addPost-form",onSubmit:this.props.handleSubmit,children:[(0,d.jsx)(N.Z,{className:"App__posts-addPost-textarea",validate:w,placeholder:"Enter!",component:b.N,formType:"textarea",type:"text",name:"post"}),(0,d.jsx)("button",{className:"App__posts-addPost-button",children:(0,d.jsx)("img",{src:S,alt:""})})]})}}]),e}(n.Component),Z=(0,A.Z)({form:"addPost"})(O),y=function(s){var t=s.posts.map((function(s){return(0,d.jsx)(k,{message:s.message,likes:s.likes},s.id)}));return(0,d.jsxs)("div",{className:"App__posts-info",children:[(0,d.jsxs)("div",{className:"App__posts-form",children:[(0,d.jsx)("h3",{className:"App__posts-title",children:(0,d.jsx)("b",{children:"My posts"})}),s.isOwner&&(0,d.jsx)(Z,{onSubmit:function(t){s.addPost(t.post)}})]}),(0,d.jsx)("div",{className:"App__post-items",children:t})]})},I=function(s){(0,r.Z)(e,s);var t=(0,o.Z)(e);function e(){return(0,a.Z)(this,e),t.apply(this,arguments)}return(0,i.Z)(e,[{key:"render",value:function(){return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(y,{isOwner:this.props.isOwner,posts:this.props.posts,addPost:this.props.addPost})})}}]),e}(n.Component),M=(0,x.$j)((function(s){return{posts:s.dataProfile.dataPosts}}),(function(s){return{addPost:function(t){s((0,v.Ai)(t))}}}))(I),C=e(693);var U=function(s){return s.dataProfile.profile?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(j,{saveProfile:s.saveProfile,savePhoto:s.savePhoto,isOwner:s.isOwner,profile:s.dataProfile.profile,status:s.status,updateStatus:s.updateStatus}),(0,d.jsx)(M,{isOwner:s.isOwner,dataProfile:s.dataProfile})]}):(0,d.jsx)(C.Z,{})},F=e(5628),z=e(7781),D=e(6871),E=function(s){(0,r.Z)(e,s);var t=(0,o.Z)(e);function e(){return(0,a.Z)(this,e),t.apply(this,arguments)}return(0,i.Z)(e,[{key:"refreshPage",value:function(){var s=this.props.router.params.profileId;s||(s=this.props.authorizedUserId),this.props.setUserProfile(s),this.props.setUserStatus(s)}},{key:"componentDidMount",value:function(){this.refreshPage()}},{key:"componentDidUpdate",value:function(s){s.router.params.profileId!==this.props.router.params.profileId&&this.refreshPage()}},{key:"render",value:function(){return null===this.props.authorizedUserId?(0,d.jsx)(D.Fg,{to:"/login"}):(0,d.jsx)("div",{className:"App__profile",children:(0,d.jsx)(U,{dataProfile:this.props.dataProfile,isOwner:Number(this.props.router.params.profileId)===this.props.authorizedUserId,savePhoto:this.props.savePhoto,isAuth:this.props.isAuth,status:this.props.status,updateStatus:this.props.updateStatus})})}}]),e}(n.Component),T=(0,z.qC)((0,x.$j)((function(s){return{dataProfile:s.dataProfile,status:s.dataProfile.status,authorizedUserId:s.auth.id,isAuth:s.auth.isAuth}}),(function(s){return{setUserProfile:function(t){s((0,v.nA)(t))},setUserStatus:function(t){s((0,v.gY)(t))},updateStatus:function(t){s((0,v.NN)(t))},savePhoto:function(t){s((0,v.m2)(t))}}})),F.E)(E)}}]);
//# sourceMappingURL=313.1fe66c98.chunk.js.map