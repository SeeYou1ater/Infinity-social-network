"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[509],{7509:function(s,t,e){e.r(t),e.d(t,{default:function(){return M}});var r=e(5671),i=e(3144),n=e(136),o=e(5716),a=e(2791),u=e(1009),p=e(885),l=e(184);var c=function(s){var t=(0,a.useState)(!1),e=(0,p.Z)(t,2),r=e[0],i=e[1],n=(0,a.useState)(s.status),o=(0,p.Z)(n,2),u=o[0],c=o[1];(0,a.useEffect)((function(){c(s.status)}),[s.status]);var d=function(){i(!0)};return(0,l.jsx)("div",{className:"App__status-wrapper",children:r?(0,l.jsx)("div",{className:"status-input",children:(0,l.jsx)("input",{onChange:function(s){c(s.currentTarget.value)},autoFocus:!0,onBlur:function(){i(!1),s.updateStatus(u)},value:u})}):(0,l.jsxs)("div",{className:"App__profileStatus",children:[(0,l.jsx)("span",{onDoubleClick:d,children:s.status||"No status"}),(0,l.jsx)("button",{onClick:d,children:"Change"})]})})},d=e(3504);var h=function(s){return(0,l.jsxs)("p",{children:[s.contactTitle,": ",s.contactValue]})};var f=function(s){return(0,l.jsxs)("div",{className:"App__description-aboutMeform",children:[s.isOwner&&(0,l.jsx)(d.OL,{to:"/settings",children:"Edit profile"}),(0,l.jsxs)("div",{className:"App__description-aboutMe-list",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{children:(0,l.jsx)("b",{children:"Contacts:"})}),(0,l.jsx)("div",{className:"App__contacts-list",children:Object.keys(s.profile.contacts).map((function(t){return(0,l.jsx)(h,{contactTitle:t,contactValue:s.profile.contacts[t]},t)}))})]}),(0,l.jsx)("div",{children:(0,l.jsxs)("h3",{children:[(0,l.jsx)("b",{children:"Looking for a job:"}),s.profile.lookingForAJob?"yes":"no"]})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{children:(0,l.jsx)("b",{children:"About me:"})}),s.profile.aboutMe]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{children:(0,l.jsx)("b",{children:"My proffesional skills:"})}),s.profile.lookingForAJobDescription]})]})]})};var j=function(s){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("img",{className:"photo",src:s.profile.photos.large||u,alt:"#"}),s.isOwner&&(0,l.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&s.savePhoto(t.target.files[0])}}),(0,l.jsx)("h3",{children:s.profile.fullName}),(0,l.jsx)(c,{status:s.status,updateStatus:s.updateStatus}),(0,l.jsx)(f,{isOwner:s.isOwner,profile:s.profile})]})},x=e(8687),v=e(6508),m=e(6139),P=e(704),g=e(1557),k=e(6130);var _=function(s){return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"post",children:s.message}),(0,l.jsxs)("div",{className:"likes",children:["Likes ",s.likes]})]})};var b=(0,g.B)(10),A=function(s){(0,n.Z)(e,s);var t=(0,o.Z)(e);function e(){return(0,r.Z)(this,e),t.apply(this,arguments)}return(0,i.Z)(e,[{key:"render",value:function(){return(0,l.jsxs)("form",{onSubmit:this.props.handleSubmit,children:[(0,l.jsx)(m.Z,{validate:[g.l,b],placeholder:"Enter!",component:k.N,formType:"textarea",type:"text",name:"post"}),(0,l.jsx)("button",{children:"Add post"})]})}}]),e}(a.Component),N=(0,P.Z)({form:"addPost"})(A),Z=function(s){var t=s.posts.map((function(s){return(0,l.jsx)(_,{message:s.message,likes:s.likes},s.id)}));return(0,l.jsxs)("div",{className:"App__posts-info",children:[(0,l.jsxs)("div",{className:"App__posts-form",children:[(0,l.jsx)("h3",{children:"My posts"}),(0,l.jsx)(N,{onSubmit:function(t){s.addPost(t.post)}})]}),(0,l.jsx)("div",{className:"App__post-items",children:t})]})},y=function(s){(0,n.Z)(e,s);var t=(0,o.Z)(e);function e(){return(0,r.Z)(this,e),t.apply(this,arguments)}return(0,i.Z)(e,[{key:"render",value:function(){return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(Z,{posts:this.props.posts,addPost:this.props.addPost})})}}]),e}(a.Component),S=(0,x.$j)((function(s){return{posts:s.dataProfile.dataPosts}}),(function(s){return{addPost:function(t){s((0,v.Ai)(t))}}}))(y),C=e(693);var w=function(s){return s.dataProfile.profile?(0,l.jsxs)("div",{className:"App__profile",children:[(0,l.jsx)(j,{saveProfile:s.saveProfile,savePhoto:s.savePhoto,isOwner:s.isOwner,profile:s.dataProfile.profile,status:s.status,updateStatus:s.updateStatus}),(0,l.jsx)(S,{dataProfile:s.dataProfile})]}):(0,l.jsx)(C.Z,{})},O=e(5628),U=e(7781),I=e(6871),F=function(s){(0,n.Z)(e,s);var t=(0,o.Z)(e);function e(){return(0,r.Z)(this,e),t.apply(this,arguments)}return(0,i.Z)(e,[{key:"refreshPage",value:function(){var s=this.props.router.params.profileId;s||(s=this.props.authorizedUserId),this.props.setUserProfile(s),this.props.setUserStatus(s)}},{key:"componentDidMount",value:function(){this.refreshPage()}},{key:"componentDidUpdate",value:function(s){s.router.params.profileId!==this.props.router.params.profileId&&this.refreshPage()}},{key:"render",value:function(){return null===this.props.authorizedUserId?(0,l.jsx)(I.Fg,{to:"/login"}):(0,l.jsx)("div",{className:"App__profile",children:(0,l.jsx)(w,{dataProfile:this.props.dataProfile,isOwner:Number(this.props.router.params.profileId)===this.props.authorizedUserId,savePhoto:this.props.savePhoto,isAuth:this.props.isAuth,status:this.props.status,updateStatus:this.props.updateStatus})})}}]),e}(a.Component),M=(0,U.qC)((0,x.$j)((function(s){return{dataProfile:s.dataProfile,status:s.dataProfile.status,authorizedUserId:s.auth.id,isAuth:s.auth.isAuth}}),(function(s){return{setUserProfile:function(t){s((0,v.nA)(t))},setUserStatus:function(t){s((0,v.gY)(t))},updateStatus:function(t){s((0,v.NN)(t))},savePhoto:function(t){s((0,v.m2)(t))}}})),O.E)(F)}}]);
//# sourceMappingURL=509.5f435e15.chunk.js.map