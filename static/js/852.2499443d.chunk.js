"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[852],{6852:function(e,t,s){s.r(t),s.d(t,{default:function(){return U}});var r=s(5671),i=s(3144),o=s(136),n=s(5716),a=s(2791),l=s(885),u=s(1009),p=s(184);var c=function(e){var t=(0,a.useState)(!1),s=(0,l.Z)(t,2),r=s[0],i=s[1],o=(0,a.useState)(e.status),n=(0,l.Z)(o,2),u=n[0],c=n[1];(0,a.useEffect)((function(){c(e.status)}),[e.status]);var d=function(){i(!0)};return(0,p.jsx)("div",{className:"App__status-wrapper",children:r?(0,p.jsx)("div",{className:"status-input",children:(0,p.jsx)("input",{onChange:function(e){c(e.currentTarget.value)},autoFocus:!0,onBlur:function(){i(!1),e.updateStatus(u)},value:u})}):(0,p.jsxs)("div",{className:"App__profileStatus",children:[(0,p.jsx)("span",{onDoubleClick:d,children:e.status||"No status"}),(0,p.jsx)("button",{onClick:d,children:"Change"})]})})};var d=function(e){return(0,p.jsxs)("p",{children:[e.contactTitle,": ",e.contactValue]})};var h=function(e){return(0,p.jsxs)("div",{className:"App__description-aboutMeform",children:[e.isOwner&&(0,p.jsx)("button",{onClick:e.activateProfileEditMode,children:"Edit profile"}),(0,p.jsxs)("div",{className:"App__description-aboutMe-list",children:[(0,p.jsx)("div",{children:(0,p.jsxs)("h3",{children:["Full name: ",e.profile.fullName]})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{children:(0,p.jsx)("b",{children:"Contacts:"})}),(0,p.jsx)("div",{className:"App__contacts-list",children:Object.keys(e.profile.contacts).map((function(t){return(0,p.jsx)(d,{contactTitle:t,contactValue:e.profile.contacts[t]},t)}))})]}),(0,p.jsx)("div",{children:(0,p.jsxs)("h3",{children:[(0,p.jsx)("b",{children:"Looking for a job:"}),e.profile.lookingForAJob?"yes":"no"]})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{children:(0,p.jsx)("b",{children:"About me:"})}),e.profile.aboutMe]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{children:(0,p.jsx)("b",{children:"My proffesional skills:"})}),e.profile.lookingForAJobDescription]})]})]})},f=s(704),m=s(6139),x=s(6130);var j=(0,f.Z)({form:"AboutMeEditForm"})((function(e){return(0,p.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,p.jsx)("button",{children:"Save"}),e.error&&(0,p.jsx)("div",{className:"stopSubmit-error",children:e.error}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{children:"Full name:"}),(0,p.jsx)(m.Z,{className:"App__editModeProfileForm-fullName-input",component:x.N,validators:[],formType:"input",type:"text",name:"fullName",placeholder:"Full name"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{children:(0,p.jsx)("b",{children:"Contacts:"})}),(0,p.jsx)("div",{children:Object.keys(e.profile.contacts).map((function(e){return(0,p.jsxs)("div",{children:[e,":",(0,p.jsx)(m.Z,{className:"App__editMode-contact-input",component:x.N,validators:[],formType:"input",type:"text",name:"contacts."+e,placeholder:e},e)]})}))})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{children:(0,p.jsx)("b",{children:"Looking for a job:"})}),(0,p.jsx)(m.Z,{className:"App__editModeProfileForm-lookingForAJob-input",component:x.N,validators:[],formType:"input",type:"checkbox",name:"lookingForAJob"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{children:(0,p.jsx)("b",{children:"About me:"})}),(0,p.jsx)(m.Z,{className:"App__editModeProfileForm-aboutMe-input",component:x.N,validators:[],formType:"textarea",type:"text",name:"aboutMe",placeholder:"You can write something here about yourself..."})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{children:(0,p.jsx)("b",{children:"My professional skills:"})}),(0,p.jsx)(m.Z,{className:"App__editModeProfileForm-lookingForAJobDescription-input",component:x.N,validators:[],formType:"textarea",type:"text",name:"lookingForAJobDescription",placeholder:"You can write something here about your professional skills..."})]})]})]})}));var v=function(e){var t=(0,a.useState)(!1),s=(0,l.Z)(t,2),r=s[0],i=s[1];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("img",{className:"photo",src:e.profile.photos.large||u,alt:"#"}),e.isOwner&&(0,p.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}}),(0,p.jsx)(c,{status:e.status,updateStatus:e.updateStatus}),r?(0,p.jsx)(j,{initialValues:e.profile,onSubmit:function(t){e.saveProfile(t).then((function(){i(!1)}))},isOwner:e.isOwner,profile:e.profile}):(0,p.jsx)(h,{activateProfileEditMode:function(){i(!0)},isOwner:e.isOwner,profile:e.profile})]})},b=s(8687),P=s(6508),N=s(1557);var k=function(e){return(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"post",children:e.message}),(0,p.jsxs)("div",{className:"likes",children:["Likes ",e.likes]})]})};var _=(0,N.B)(10),A=function(e){(0,o.Z)(s,e);var t=(0,n.Z)(s);function s(){return(0,r.Z)(this,s),t.apply(this,arguments)}return(0,i.Z)(s,[{key:"render",value:function(){return(0,p.jsxs)("form",{onSubmit:this.props.handleSubmit,children:[(0,p.jsx)(m.Z,{validate:[N.l,_],placeholder:"Enter!",component:x.N,formType:"textarea",type:"text",name:"post"}),(0,p.jsx)("button",{children:"Add post"})]})}}]),s}(a.Component),g=(0,f.Z)({form:"addPost"})(A),y=function(e){var t=e.posts.map((function(e){return(0,p.jsx)(k,{message:e.message,likes:e.likes},e.id)}));return(0,p.jsxs)("div",{className:"App__posts-info",children:[(0,p.jsxs)("div",{className:"App__posts-form",children:[(0,p.jsx)("h3",{children:"My posts"}),(0,p.jsx)(g,{onSubmit:function(t){e.addPost(t.post)}})]}),(0,p.jsx)("div",{className:"App__post-items",children:t})]})},Z=function(e){(0,o.Z)(s,e);var t=(0,n.Z)(s);function s(){return(0,r.Z)(this,s),t.apply(this,arguments)}return(0,i.Z)(s,[{key:"render",value:function(){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(y,{posts:this.props.posts,addPost:this.props.addPost})})}}]),s}(a.Component),S=(0,b.$j)((function(e){return{posts:e.dataProfile.dataPosts}}),(function(e){return{addPost:function(t){e((0,P.Ai)(t))}}}))(Z),F=s(693);var M=function(e){return e.dataProfile.profile?(0,p.jsxs)("div",{className:"App__profile",children:[(0,p.jsx)(v,{saveProfile:e.saveProfile,savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.dataProfile.profile,status:e.status,updateStatus:e.updateStatus}),(0,p.jsx)(S,{dataProfile:e.dataProfile})]}):(0,p.jsx)(F.Z,{})},w=s(5628),C=s(7781),O=s(6871),T=function(e){(0,o.Z)(s,e);var t=(0,n.Z)(s);function s(){return(0,r.Z)(this,s),t.apply(this,arguments)}return(0,i.Z)(s,[{key:"refreshPage",value:function(){var e=this.props.router.params.profileId;e||(e=this.props.authorizedUserId),this.props.setUserProfile(e),this.props.setUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshPage()}},{key:"componentDidUpdate",value:function(e,t,s){e.router.params.profileId!==this.props.router.params.profileId&&this.refreshPage()}},{key:"render",value:function(){return null===this.props.authorizedUserId?(0,p.jsx)(O.Fg,{to:"/login"}):(0,p.jsx)("div",{className:"App__profile",children:(0,p.jsx)(M,{saveProfile:this.props.saveProfile,dataProfile:this.props.dataProfile,isOwner:Number(this.props.router.params.profileId)===this.props.authorizedUserId,savePhoto:this.props.savePhoto,isAuth:this.props.isAuth,status:this.props.status,updateStatus:this.props.updateStatus})})}}]),s}(a.Component),U=(0,C.qC)((0,b.$j)((function(e){return{dataProfile:e.dataProfile,status:e.dataProfile.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),(function(e){return{setUserProfile:function(t){e((0,P.nA)(t))},setUserStatus:function(t){e((0,P.gY)(t))},updateStatus:function(t){e((0,P.NN)(t))},savePhoto:function(t){e((0,P.m2)(t))},saveProfile:function(t){return e((0,P.Gi)(t))}}})),w.E)(T)}}]);
//# sourceMappingURL=852.2499443d.chunk.js.map